<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <!-- Meta para dispositivos móviles (responsive) -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Base de Datos - Ejercicios</title>
  <!-- Vinculamos el archivo CSS -->
  <link rel="stylesheet" href="css/index.css">
</head>

<body>

  <!-- Datos de la Actividad -->
  <div class="datos-actividad">
    <p><strong>Asignatura:</strong> Bases de datos I. Primera entrega base de datos 01</p>
    <p><strong>Docente:</strong> Carlos García Calatraba</p>
    <p><strong>Alumnos:</strong> Steven Louis Allus, Antonio López García</p>
    <p><strong>Universidad:</strong> Carlemany Bachelor de Ciencia de Datos</p>
  </div>

  <!-- Contenedor del índice -->
  <div class="indice">
    <h2>Índice</h2>
    <button class="btn-toggle" onclick="toggleIndice()">
      Mostrar/Ocultar Ejercicios
    </button>

    <!-- Lista de las 20 preguntas -->
    <ul id="listaEjercicios">
      <li><a href="#respuesta_01">1 - Dibuja (mediante Excel, draw.io…) la relación con sus atributos.</a></li>
      <li><a href="#respuesta_02">2 - Indica cuál será la clave primaria de dicha relación y justifica tu elección.</a>
      </li>
      <li><a href="#respuesta_03">3 - ¿Cómo se representaría textualmente, siguiendo el modelo R(A1, A2,..)?</a></li>
      <li><a href="#respuesta_04">4 - ¿Qué tipo de dato es cada atributo? Justifica tus elecciones.</a></li>
      <li><a href="#respuesta_05">5 - Haz una sentencia SQL para crear la tabla en PostgreSQL.</a></li>
      <li><a href="#respuesta_06">6 - Crea las sentencias INSERT para introducir los vecinos (José Miguel, Isabel Ruiz,
          Lucía).</a></li>
      <li><a href="#respuesta_07">7 - ¿Qué hacer para insertar un vecino que no tenga apodo?</a></li>
      <li><a href="#respuesta_08">8 - Inserta un vecino que no tenga mote. Muestra el estado de la tabla.</a></li>
      <li><a href="#respuesta_09">9 - Utiliza la sentencia ALTER TABLE para añadir Ocupación y Sexo.</a></li>
      <li><a href="#respuesta_10">10 - ¿Cómo actualizar la información de estos atributos en la base de datos?</a></li>
      <li><a href="#respuesta_11">11 - Crea y ejecuta la sentencia ALTER TABLE para añadir “m2”.</a></li>
      <li><a href="#respuesta_12">12 - Añade los m2 a cada vecino. Concha debe tener más m2 que nadie.</a></li>
      <li><a href="#respuesta_13">13 - Genera las sentencias CREATE TABLE (PERSONAS_NORM y VIVIENDAS) y relaciónalas con
          una FK.</a></li>
      <li><a href="#respuesta_14">14 - Crea una consulta SELECT con ORDER BY (m2) para ordenar de mayor a menor.</a>
      </li>
      <li><a href="#respuesta_15">15 - ¿Qué query elimina la columna “m2” de la tabla VIVIENDAS?</a></li>
      <li><a href="#respuesta_16">16 - ¿Qué hacer con la tabla VIVIENDAS al quedar casi vacía? Explica pros/contras.</a>
      </li>
      <li><a href="#respuesta_17">17 - Dibuja el diseño de PERSONA y subclases (Portero, Alquilado, Propietario).</a>
      </li>
      <li><a href="#respuesta_18">18 - ¿Dónde representamos a José María, que no encaja en las subclases?</a></li>
      <li><a href="#respuesta_19">19 - ¿Qué sentencias SQL permiten borrar las tablas creadas?</a></li>
      <li><a href="#respuesta_20">20 - Reflexión final: ¿Qué opinas de las últimas palabras de Juan Cuesta?</a></li>
      <li><a href="#respuesta_reflexion1">REFLEXIÓN Y COMPROBACIÓN 1</a></li>
      <li><a href="#respuesta_reflexion2">REFLEXIÓN Y COMPROBACIÓN 2</a></li>
    </ul>
  </div>

  <!-- ==================== TEXTO DEL EJERCICIO ==================== -->
  <div class="texto-ejercicio">
    <h3>Descripción de las tareas</h3>
    <p>
      Juan Cuesta, presidente de nuestra comunidad de vecinos, quiere innovar en la gestión de la
      misma. Para ello, se propone crear un sistema informático holístico, con la intención de
      centralizar información sobre los vecinos, su residencia, el pago de cuotas, su comportamiento
      para con la comunidad, etc. Para ello, quiere empezar por la piedra angular de todo sistema de
      datos: La base de datos.
    </p>
    <p>
      Nuestro presidente sabe que no puede empezar a construir una base de datos “sin más”, dado
      que, antes de nada, es muy importante conceptualizarla para evitar futuros errores. Por ello,
      primero plantea una pequeña especificación del mundo real y conceptual. Sabe que, en una
      comunidad de vecinos, la relación (o tabla) principal será, obviamente, una tabla sobre las
      personas que viven en ella.
    </p>
    <p>
      Nuestro presidente propone que, entre los atributos de esta primera tabla “PERSONAS”, se
      encuentren los siguiente 4 atributos: DNI, Nombre, Apellidos, Planta y piso. Además, como entre
      ellos muchas veces se llaman por el apodo, quiere introducir un 5º atributo: El mote.
    </p>
    <p>
      Ayuda a Juan Cuesta, presidente de la comunidad, en la creación de esta primera relación
      llamada PERSONAS. <a href="#respuesta_01">[1]</a> Dibuja (mediante Excel, draw.io o cualquier herramienta similar)
      dicha
      relación con sus atributos. Además, <a href="#respuesta_02">[2]</a> señala siguiendo la convención, cuál será la
      clave
      primaria de dicha relación y justifica su elección. <a href="#respuesta_03">[3]</a> ¿Cómo se representaría
      textualmente,
      siguiendo el modelo R(A1, A2,..)?
    </p>
    <p>
      Él ha encontrado, navegando por internet, el siguiente esquema (obviamente de otro caso de uso):
      “Estudiante (ID, Nombre, Fecha Nacimiento)”. Una vez diseñado, Juan quiere crear dicha tabla en
      PostgreSQL, para empezar a introducir datos. Ahora bien, necesita saber el dominio de cada
      atributo. <a href="#respuesta_04">[4]</a> ¿Qué tipo de dato es cada atributo? Justifica tus elecciones.
      <a href="#respuesta_05">[5]</a> Haz una sentencia SQL para crear una tabla acorde, en PostgreSQL.
    </p>
    <p>
      Contento por haber creado su primera tabla, Juan quiere introducir datos sobre los vecinos en la
      misma, para practicar. Ha pensado en introducir a su hijo (José Miguel), su actual mujer (Isabel
      Ruiz) y una vecina del 3º A: Lucía. <a href="#respuesta_06">[6]</a> Crea las sentencias INSERT necesarias para
      introducir dichas
      filas en la tabla PERSONAS y ejecútalas. Puedes inventarte los DNI. Pégalas en el reporte, y
      también un pantallazo del estado de la tabla. Puedes encontrar información sobre los vecinos
      aquí y aquí.
    </p>
    <p>
      Juan se ha dado cuenta que el atributo “Apodo” no siempre sirve, porque no todos tienen uno.
      <a href="#respuesta_07">[7]</a> ¿Qué podría hacer Juan, para insertar una fila sobre un vecino que no tenga apodo?
      <a href="#respuesta_08">[8]</a> Busca un vecino que no tenga mote, e introdúcelo en la base de datos.
      Pega un pantallazo del estado de la tabla.
    </p>
    <p>
      Posteriormente, ve que debería haber más atributos importantes. Decide añadirlos más tarde. Sabe
      que un ALTER TABLE es costoso, pero PostgreSQL es flexible. Encuentra la sentencia:
      <code>ALTER TABLE table_name ADD column_name datatype;</code>.
      <a href="#respuesta_09">[9]</a> Ayuda a Juan y utiliza la sentencia ALTER TABLE para
      añadir a la tabla los atributos Ocupación y Sexo. Además, Juan quiere introducir estos nuevos
      atributos a los vecinos existentes. <a href="#respuesta_10">[10]</a> ¿Qué sentencia debería utilizar para
      actualizar esa
      información no existente? Escribe las sentencias y pega un pantallazo del estado de la base de
      datos.
    </p>
    <p>
      Durante una junta de vecinos, Concha se queja de que cada piso paga 200€ mensuales sin considerar
      los m2 del piso. Se declara morosa. Presionado, Juan decide introducir un nuevo atributo “m2”.
      <a href="#respuesta_11">[11]</a> Crea y ejecuta la sentencia ALTER TABLE y pégala en el reporte.
      <a href="#respuesta_12">[12]</a> Añade unos m2
      a cada vecino, asegurando que Concha tenga el piso con más metros cuadrados. Si varios viven en
      el mismo piso, deben tener los mismos m2. Pega un pantallazo de cómo queda la tabla.
    </p>
    <p>
      Luego ve que no tiene sentido que cada persona repita los m2. Lo ideal es normalizar:
      una tabla PERSONAS y otra VIVIENDAS, relacionadas por llave foránea.
      <a href="#respuesta_13">[13]</a> Genera las sentencias CREATE TABLE
      de ambas tablas (PERSONAS_NORM y VIVIENDAS), distribuyendo los atributos y creando la relación.
      Llena ambas tablas con los vecinos ya insertados y pega un pantallazo.
    </p>
    <p>
      Juan decide ordenar los pisos por m2. <a href="#respuesta_14">[14]</a> Crea una consulta SELECT con ORDER BY para
      listar los
      pisos de mayor a menor. Pega la query y un pantallazo del resultado.
    </p>
    <p>
      Al ver que Concha tiene el piso con más m2, esta vuelve a protestar. Juan elimina la columna “m2”
      de la tabla VIVIENDAS. <a href="#respuesta_15">[15]</a> ¿Qué query debe ejecutar para borrar dicha columna? Pega
      la sentencia
      y un pantallazo de cómo queda la tabla.
    </p>
    <p>
      Una vez borrada la columna, la tabla VIVIENDAS queda casi vacía (solo la clave primaria).
      <a href="#respuesta_16">[16]</a> ¿Qué debería hacer Juan? ¿Mantener la tabla, para que esté “muy normalizada”, o
      borrarla y volver a meter la planta y el piso en PERSONAS? Explica tu opción elegida con sus
      pros y contras (3 argumentos en total).
    </p>
    <p>
      Por otra parte, Juan nota que en el edificio hay varios tipos de personas: porteros, alquilados
      y propietarios. También está José María, que no encaja en ninguna categoría.
      <a href="#respuesta_17">[17]</a> Dibuja o esquematiza la tabla PERSONA y la relación con las subclases (Portero,
      Alquilado, Propietario). ¿Cómo se llama este diseño?
      <a href="#respuesta_18">[18]</a> ¿En qué relación o clase
      debería estar José María, al no encajar en ninguna de las subclases?
    </p>
    <p>
      Finalmente, cansado, Juan decide borrar todas las tablas creadas.
      <a href="#respuesta_19">[19]</a> ¿Qué sentencia(s) SQL
      debería ejecutar para eliminar definitivamente las tablas de la base de datos?
      Luego reflexiona
      sobre los continuos cambios que ha hecho sin planificar.
      <a href="#respuesta_20">[20]</a> ¿Qué opinas sobre la
      última reflexión de Juan Cuesta? ¿Está en lo correcto o exagera?
    </p>
  </div>
  <!-- ============================================================ -->

  <!-- =================== SECCIONES DE RESPUESTAS =================== -->
  <!-- (Placeholder: aquí irán las respuestas definitivas más adelante) -->

  <div id="respuesta_01" class="respuesta">
    <h3>1 - Dibuja (mediante Excel, draw.io…) la relación con sus atributos.</h3>
    <img src="img/ask_01.jpg" alt="Relación atributos">
  </div>


  <div id="respuesta_02" class="respuesta">
    <h3>2 - Indica cuál será la clave primaria de dicha relación y justifica tu elección.</h3>
    <p>
      Para la tabla <strong>PERSONAS</strong>, podemos utilizar <strong>DNI_NIE</strong> como clave primaria, ya que:
    </p>
    <ul>
      <li>El DNI es un identificador único para cada persona.</li>
      <li>Es un dato sin ambigüedades.</li>
      <li>Evita las duplicidades, no existen dos personas con el mismo DNI.</li>
      <li>En el caso que existieran es un error.</li>
    </ul>
  </div>

  <div id="respuesta_03" class="respuesta">
    <h3>3 - ¿Cómo se representaría textualmente, siguiendo el modelo R(A1, A2,..)?</h3>
    <p>
      Representación textual <strong>PERSONAS</strong>,donde la clave primaria se subraya:
    </p>
    <em>PERSONAS(<u>DNI_NIE</u>, Nombre, Apellidos, Planta, Piso, Mote)</em>
    <p><strong>R(Personas)</strong></p>
    <p><strong>R(ID, Nombre, Edad, Ciudad)</strong></p>
    <p>Donde:</p>
    <ul>
      <li>R es el nombre de la relación (la tabla).</li>
      <li>(ID, Nombre, Edad, Ciudad) son los atributos de la relación.</li>
    </ul>
    <p>Si ID es la clave primaria, se puede denotar como:</p>
    <p><em>R(ID, Nombre, Edad, Ciudad)*</em> (donde ID* indica la clave primaria).</p>
  </div>

  <div id="respuesta_04" class="respuesta">
    <h3>4 - ¿Qué tipo de dato es cada atributo? Justifica tus elecciones.</h3>
    <p>
      <strong>DNI_NIE:</strong> Utilizaremos <strong><code>VARCHAR(10)</code></strong> permite almacenar DNIs (9
      caracteres)
      y NIEs (hasta 10 caracteres).
    </p>

    <p>
      <strong>Nombre:</strong> Se utiliza <strong><code>VARCHAR(30)</code></strong>porque es una cadena de caracteres
      variable y,
      generalmente, los nombres no exceden esta longitud.
    </p>
    <p>
      <strong>Apellidos:</strong> Se define como <strong><code>VARCHAR(100)</code></strong> para permitir almacenar
      apellidos compuestos
      o de mayor longitud, garantizando suficiente espacio.
    </p>
    <p>
      <strong>Planta:</strong> Se utiliza
      <code><strong>SMALLINT o TINYINT</strong> (para Microsoft SQL server)</code>permite hasta 32.767 plantas.
    </p>
    <p>No admite nulls.
      Si pudiera <strong><code>TINYINT</code></strong> la ventaja es que ocupa 1 byte en lugar de 2
      <strong><code>(SMALLINT)</code></strong> o 4 <strong><code>(INT)</code></strong>, optimizando almacenamiento.
    </p>
    <p>Sería suficiente para edificios de hasta 127 plantas.
    </p>
    <p>
      <strong>Piso:</strong> <strong><code>VARCHAR(4)</code></strong>, Puede contener números y letras (Ej: “3A”,
      “10B”).
      <strong><code>VARCHAR(4)</code></strong> es más flexible que <strong><code>TINYINT</code></strong> o
      <strong><code>SMALLINT</code></strong>.
    </p>
    <p>
      <strong>Mote:</strong> Se utiliza <strong><code>VARCHAR(50)</code></strong> permite nombres largos sin
      desperdiciar demasiado espacio.
      Se permite NULL, ya que no todos los vecinos tienen mote.
    </p>
  </div>


  <div id="respuesta_05" class="respuesta">
    <h3>5 - Haz una sentencia SQL para crear la tabla en PostgreSQL.</h3>
    <img src="img/ask_05.jpg" alt="Insert personas">
  </div>

  <div id="respuesta_06" class="respuesta">
    <h3>6 - Crea las sentencias INSERT para introducir los vecinos (José Miguel, Isabel Ruiz, Lucía).</h3>
    <img src="img/ask_06.jpg" alt="Insert personas">
  </div>

  <div id="respuesta_07" class="respuesta">
    <h3>7 - ¿Qué hacer para insertar un vecino que no tenga apodo?</h3>
    <p>
      Si un vecino no tiene apodo, se inserta un valor <code>NULL</code> en la columna <code>Mote</code>.
    </p>
  </div>

  <div id="respuesta_08" class="respuesta">
    <h3>8 - Inserta un vecino que no tenga mote. Muestra el estado de la tabla.</h3>
    <img src="img/ask_08.jpg" alt="Mote NULL">
  </div>

  <div id="respuesta_09" class="respuesta">
    <h3>9 - Utiliza la sentencia ALTER TABLE para añadir Ocupación y Sexo.</h3>
    <img src="img/ask_09.jpg" alt="ALTER TABLE ">
  </div>



  <div id="respuesta_10" class="respuesta">
    <h3>10 - ¿Cómo actualizar la información de estos atributos en la base de datos?</h3>
    <img src="img/ask_10.jpg" alt="Update ">
  </div>


  <div id="respuesta_11" class="respuesta">
    <h3>11 - Crea y ejecuta la sentencia ALTER TABLE para añadir “m2”.</h3>
    <img src="img/ask_11.jpg" alt="Update ">
  </div>

  <div id="respuesta_12" class="respuesta">
    <h3>12 - Añade los m2 a cada vecino. Concha debe tener más m2 que nadie.</h3>
    <img src="img/ask_12.jpg" alt="M_cuadrados ">
  </div>

  <div id="respuesta_13" class="respuesta">
    <h3>13 - Genera las sentencias CREATE TABLE (PERSONAS_NORM y VIVIENDAS) y relaciónalas con una FK.</h3>
    <div><img src="img/ask_13.jpg" alt="M_cuadrados "></div>
    <div><img src="img/ask_13_01.jpg" alt="M_cuadrados "></div>
    <div><img src="img/ask_13_02.jpg" alt="M_cuadrados "></div>
  </div>

  <div id="respuesta_14" class="respuesta">
    <h3>14 - Crea una consulta SELECT con ORDER BY (m2) para ordenar de mayor a menor.</h3>
    <img src="img/ask_14.jpg" alt="M_cu mas menos ">
  </div>

  <div id="respuesta_15" class="respuesta">
    <h3>15 - ¿Qué query elimina la columna “m2” de la tabla VIVIENDAS?</h3>
    <img src="img/ask_15.jpg" alt="Borrar M_cuadrados ">
  </div>

  <div id="respuesta_16" class="respuesta">
    <h3>16 - ¿Qué hacer con la tabla VIVIENDAS al quedar casi vacía? Explica pros/contras.</h3>
    <p>
      Dado que los datos necesarios a añadir a la vivienda podrían cambiar en el futuro, la mejor opción es mantener la
      tabla <strong>VIVIENDAS</strong> y conservar la relación con <strong>PERSONAS_NORM</strong>. Aunque en este
      momento VIVIENDAS solo tiene Planta y Piso, es posible que en el futuro se necesite agregar atributos como:
    </p>
    <ul>
      <li>M2 nuevamente (si se decide cobrar cuotas por tamaño).</li>
      <li>Número de habitaciones y baños (si se decide cobrar cuotas por estas características).</li>
      <li>Si la vivienda tiene balcón, terraza o trastero (para servicios adicionales).</li>
    </ul>
    <p><strong>Pros de Mantener VIVIENDAS</strong></p>
    <ol>
      <li><strong>Escalabilidad</strong> → Permite agregar información de cada vivienda sin afectar la estructura de
        PERSONAS_NORM.</li>
      <li><strong>Integridad de Datos</strong> → Evita inconsistencias en Planta y Piso si varias personas viven en el
        mismo lugar.</li>
      <li><strong>Optimización de almacenamiento</strong> → Evita repetir datos en cada persona (si se agregan atributos
        como m², solo se almacena una vez por vivienda).</li>
    </ol>
    <p><strong>Contras de Mantener VIVIENDAS</strong></p>
    <ol>
      <li><strong>Complejidad en consultas</strong> → Se requiere JOIN para obtener información completa de personas y
        viviendas.</li>
      <li><strong>Espacio en disco “desperdiciado” temporalmente</strong> → Ahora VIVIENDAS parece innecesaria, pero es
        una inversión a futuro.</li>
      <li><strong>Mayor esfuerzo inicial</strong> → La estructura es más robusta, pero implica más gestión en
        inserciones y modificaciones.</li>
    </ol>
    <p><strong>Conclusión:</strong></p>
    <p>
      Juan debería mantener la tabla <strong>VIVIENDAS</strong>, aunque ahora parezca innecesaria. Dado que es una
      comunidad “impredecible”, en el futuro podrían necesitarse atributos adicionales por vivienda, como m2,
      habitaciones, baños, etc. Además, desde un enfoque de arquitectura de datos y modelado dimensional, eliminar la
      tabla VIVIENDAS y poner m2 en PERSONAS_NORM es una mala práctica, ya que rompe varios principios fundamentales en
      el diseño de bases de datos escalables y analíticas.
    </p>
    <p>
      En un entorno analítico o de Data Warehouse, los datos de las viviendas pueden cambiar con el tiempo (reformas que
      aumentan m2 o agregan habitaciones). Si m2 estuviera en PERSONAS_NORM, cada cambio en los datos de la vivienda
      obligaría a actualizar múltiples filas, lo que:
    </p>
    <ul>
      <li>Rompe la trazabilidad histórica si queremos ver cómo evolucionó la vivienda con el tiempo.</li>
      <li>Una vivienda en alquiler puede cambiar de personas varias veces al año.</li>
    </ul>
  </div>


  <div id="respuesta_17" class="respuesta">
    <h3>17 - Dibuja el diseño de PERSONA y subclases (Portero, Alquilado, Propietario)</h3>
    <img src="img/ask_17.jpg" alt="Esquema herencia">
    <p>
      Juan está enfrentando un caso clásico de herencia o especialización en bases de datos relacionales. Esto se llama
      <strong>Modelo de Herencia o Especialización</strong> (ISA Relationship en modelos E-R), donde una entidad padre
      (<strong>PERSONAS_NORM</strong>) comparte atributos con varias entidades hijas (<strong>PORTERO</strong>,
      <strong>ALQUILADO</strong> y <strong>PROPIETARIO</strong>).
    </p>
    <p><strong>La solución:</strong></p>
    <ul>
      <li>Crear una jerarquía de especialización para diferenciar PORTERO, ALQUILADO y PROPIETARIO.</li>
      <li>Mantener a José María en <strong>PERSONAS_NORM</strong> sin asignarlo a ninguna subclase.</li>
    </ul>
    <p><strong>Explicación del diseño:</strong></p>
    <ul>
      <li><strong>PERSONAS_NORM</strong> es la tabla base donde se almacenan todas las personas.</li>
      <li>Se introduce un campo <strong>Tipo</strong> para indicar si una persona es Portero, Alquilado o Propietario.
      </li>
      <li>Cada subclase (<strong>PORTERO</strong>, <strong>ALQUILADO</strong>, <strong>PROPIETARIO</strong>) tiene
        atributos específicos, referenciando <code>DNI_NIE</code> como clave foránea.</li>
      <li>José María se queda en <strong>PERSONAS_NORM</strong>, pero su campo <strong>Tipo</strong> será
        <code>NULL</code>, ya que no pertenece a ninguna especialización.
      </li>
    </ul>
    <p><strong>Implementación en SQL:</strong></p>
    <img src="img/ask_17_01.jpg" alt="Implementación en SQL">
  </div>


  <div id="respuesta_18" class="respuesta">
    <h3>18 - ¿Dónde representamos a José María, que no encaja en las subclases?</h3>
    <p>
      José María no encaja en ninguna de las especializaciones (PORTERO, ALQUILADO, PROPIETARIO),
      pero sí es una persona que interactúa con el edificio. Por lo tanto, debe permanecer en
      <strong>PERSONAS_NORM</strong> sin asociarse a ninguna subclase.
      Si en algún momento se descubre que José María tiene un rol específico en la comunidad,
      simplemente se actualiza su <code>Tipo</code> y se añade a la subtabla correspondiente.
    </p>
  </div>

  <div id="respuesta_19" class="respuesta">
    <h3>19 - ¿Qué sentencias SQL permiten borrar las tablas creadas?</h3>
    <img src="img/ask_19.jpg" alt="Borrar clases">
  </div>

  <div id="respuesta_20" class="respuesta">
    <h3>20 - Reflexión final: ¿Qué opinas de las últimas palabras de Juan Cuesta?</h3>
    <p>
      La reflexión de Juan es acertada, pero también consideraría, según mi experiencia profesional
      <strong>(Steven)</strong>, que el diseño previo es crucial,
      pero la flexibilidad y la iteración también son esenciales.
    </p>
    <p>
      Es cierto que tener un diseño sólido desde el principio (fase de modelado conceptual y lógico) ayuda a evitar
      problemas.
      En ingeniería de software, el análisis y diseño previos (ej. diagramas E-R, normalización, especificación de
      requisitos) son cruciales
      para reducir retrabajos.
    </p>
    <p>
      Modelos flexibles escalan mejor: En Data Warehouse y bases de datos transaccionales, se priorizan diseños
      modulares y escalables que
      faciliten cambios futuros sin grandes refactorizaciones.
    </p>
    <p>
      Dicho esto, pienso que ningún diseño es perfecto desde el inicio; siempre habrá ajustes y mejoras.
      En construcción, modificar la estructura después de construirla es costoso y a veces inviable, mientras que en
      software,
      los cambios son esperables y forman parte del ciclo de vida del desarrollo. <strong>Robustez +
        Flexibilidad.</strong>
    </p>
  </div>

  <div id="respuesta_reflexion1" class="respuesta">
    <h3>[REFLEXIÓN Y COMPROBACIÓN 1]</h3>
    <p>
      En teoría (sesión/cápsula) hemos explicado que existen dos maneras distintas para introducir restricciones a una
      tabla (como puede ser introducir una clave primaria).
      Las dos maneras son:
    </p>
    <ol>
      <li>
        <strong>Inline Constraint</strong>: Definir la restricción dentro de la declaración de la columna.
      </li>
      <li>
        <strong>Out-of-Line Constraint</strong>: Definir la restricción como una cláusula separada al final de la
        declaración de la tabla.
      </li>
    </ol>

    <h4>¿En qué casos sirve una y no la otra?</h4>
    <p><strong>Inline Constraint:</strong></p>
    <ul>
      <li>Sirve cuando la restricción afecta solo a una columna.</li>
      <li>No sirve para restricciones que involucren múltiples columnas.</li>
    </ul>
    <p>Ejemplo válido (clave primaria en una sola columna):</p>
    <img src="img/ask_21_01.jpg" alt="KEY">
    <p>Ejemplo NO válido (clave primaria en varias columnas, inline no funciona):</p>
    <img src="img/ask_21_02.jpg" alt="KEY_01">

    <p><strong>Out-of-Line Constraint:</strong></p>
    <ul>
      <li>Sirve cuando la restricción involucra varias columnas.</li>
      <li>Es la única opción para definir claves foráneas con <code>REFERENCES</code>.</li>
      <li>No es necesaria cuando la restricción es específica de una sola columna y se busca mayor claridad.</li>
    </ul>
    <p>Ejemplo válido (clave primaria compuesta, solo funciona out-of-line):</p>
    <img src="img/ask_21_03.jpg" alt="KEY_02">
    <p>Ejemplo válido (clave foránea, solo se puede definir out-of-line):</p>
    <img src="img/ask_21_04.jpg" alt="KEY_03">

    <h4>Ejemplo de restricción explicado en clase (aparte de la clave primaria):</h4>
    <p>
      Se utilizó la restricción <strong>CHECK</strong> para validar que los valores de una columna cumplan una condición
      específica.
    </p>
    <img src="img/ask_21_05.jpg" alt="KEY_04">
    <ul>
      <li>
        <strong>CHECK (Presupuesto > 1000)</strong> asegura que el valor de <strong>presupuesto</strong> siempre sea
        mayor a 1000, evitando valores inválidos como <strong>0 o -500</strong>.
      </li>
      <li>
        <strong>CHECK (Duración > 0)</strong> asegura que la <strong>duración</strong> del proyecto siempre sea mayor a
        0. Esta restricción se puede aplicar tanto de forma inline como mediante la cláusula <strong>CONSTRAINT
          mínimo_1_mes</strong>.
      </li>
    </ul>
  </div>
  <div id="respuesta_reflexion2" class="respuesta">
    <h3>[REFLEXIÓN Y COMPROBACIÓN 2] - Restricciones en una tabla</h3>
    <p>En teoría (sesión/cápsula) hemos explicado un ejemplo
      similar al de propietarios, alquilados, etc. ¿Qué ejemplo concreto explicamos? ¿Cuál es el nexo
      de todas las tablas que pusimos en el ejemplo?</p>
    <p>En la teoría se trabajó con el ejemplo del esquema de una empresa, con la tabla de Empleados (y sus
      relaciones con otras tablas como Proyectos y Departamentos). En ese ejemplo se muestra cómo, partiendo de una
      entidad principal (Empleado), se pueden relacionar otros conjuntos de datos mediante claves foráneas. Es decir, el
      nexo que une todas las tablas es la clave primaria de la entidad principal (por ejemplo, el ID del empleado), que
      se utiliza para establecer las relaciones entre las tablas. Esta estructura
      es similar a la de propietarios, alquilados, porteros,etc., ya que en ambos casos se parte de una entidad base
      (Persona o Empleado) y se extiende la información en
      tablas asociadas usando la clave primaria. </p>
    <p>
      La idea es el mantenimiento y simplicidad para tener claras las relaciones entre las tablas y evitar la
      duplicación de datos.
    </p>
  </div>
  <!-- =============================================================== -->

  <!-- Script -->
  <script src="js/index.js"></script>
</body>

</html>